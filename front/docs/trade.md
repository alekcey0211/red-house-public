# Обмен между игроками
Здесь описаны все методы взаимодействия *frontend* и *backend* частей в контексте данного интерфейса.

## Отправка с FRONTEND

#### Добавление предмета игроком в поле обмена
```
/TradePlayerAddItem 123 42 8
```
- *123* - Идентификатор второго игрока с кем происходит обмен
- *42* - Идентификатор предмета который добавляется в поле обмена
- *8* - Количество предмета который добавляется в поле обмена

#### Удаление предмета игроком из поля обмена
```
/TradePlayerDeleteItem 321 44 5
```
- *321* - Идентификатор второго игрока с кем происходит обмен
- *44* - Идентификатор предмета который добавляется в поле обмена
- *5* - Количество предмета который добавляется в поле обмена

#### Нажатие игроком на замок
```
/TradePlayerLockActivate 123
```
- *123* - Идентификатор второго игрока с кем происходит обмен

#### Отмена/закрытие игроком окна обмена
```
/TradePlayerCloseWindow 123
```
- *123* - Идентификатор второго игрока с кем происходит обмен

#### Согласие на обмен игроком
```
/TradePlayerSubmit 123
```
- *123* - Идентификатор второго игрока с кем происходит обмен

#### Удаление предметов у игрока после удачного обмена
```
/TradePlayerDelete 44,234,531 5,12,4
```
- *44,234,531* - Идентификаторы предметов, которые нужно удалить
- *5,12,4* - Количества предметов которые нужно удалить. Очередность соответствует идентификаторам

#### Добавление предметов игроку после удачного обмена
```
/TradePlayerAdd 44,234,531 5,12,4
```
- *44,234,531* - Идентификаторы предметов, которые нужно добавить
- *5,12,4* - Количества предметов которые нужно добавить. Очередность соответствует идентификаторам

## Отправка с BACKEND

#### Отправка инциализации обмена (данные и инвентарь)
```
UI COMMAND: TRADE_ADD_ALL_ITEMS
DATA: "{
        "meta": {"playerName": "Targon", "playerID": 123, "playerMoney": 420, "personName": "Djoker255", "personID": 321, "personMoney": 730 }, 
        "inventory": [{"id": 412481, "name": "Картофель", "category": 46, "count": 3, "isFood": true}]
       }"
```
- *meta* - Объект метаданных об игроках
  - *playerName* - Имя текущего игрока
  - *playerID* - Идентификатор текущего игрока
  - *playerMoney* - Количество денег текущего игрока
  - *personName* - Имя второго игрока
  - *personID* - Идентификатор второго игрока
  - *personMoney* - Количество денег второго игрока
- *inventory* - Инвентарь, как массив объектов (предметов)
  - *id* - Идентификатор предмета
  - *name* - Название предмета (пр. *Картофель*)
  - *category* - Идентификатор категории предмета
  - *count* - Количество предмета в инвентаре
  - *isFood* - *ОПЦИОНАЛЬНО*. Если *true*, то данный предмет отобразиться во вкладке *еда*

#### Добавление предмета вторым игроком в поле обмена
```
UI COMMAND: TRADE_ADD_PERSON_ITEM
DATA: "{"id": 412481, "name": "Картофель", "category": 46, "count": 3, "isFood": true}"
```
- *id* - Идентификатор предмета
- *name* - Название предмета (пр. *Картофель*)
- *category* - Идентификатор категории предмета
- *count* - Количество предмета в инвентаре
- *isFood* - *ОПЦИОНАЛЬНО*. Если *true*, то данный предмет отобразиться во вкладке *еда*

#### Удаление предмета вторым игроком из поля обмена
```
UI COMMAND: TRADE_DELETE_PERSON_ITEM
DATA: "{"id": 412481, "name": "Картофель", "category": 46, "count": 3, "isFood": true}"
```
- *id* - Идентификатор предмета
- *name* - Название предмета (пр. *Картофель*)
- *category* - Идентификатор категории предмета
- *count* - Количество предмета в инвентаре
- *isFood* - *ОПЦИОНАЛЬНО*. Если *true*, то данный предмет отобразиться во вкладке *еда*

#### Нажатие на замок вторым игроком
```
UI COMMAND: TRADE_ACTIVATE_PERSON
DATA: ничего
```

#### Согласие на обмен вторым игроком
```
UI COMMAND: TRADE_ACCEPT_FROM_PERSON
DATA: ничего
```

#### Отмена обмена вторым игроком
```
UI COMMAND: TRADE_NULLIFY
DATA: ничего
```
